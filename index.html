<html>
<head>
	<title>Calculadora de pago a Steam Argentina - mrks.cf</title>
	<?php include('includes/head.html'); ?>
	<meta name="description" content="Calculadora de pago a Steam Argentina - Markski's website">
	<?php include('includes/funciones.php') ?>
	<style type="text/css">
		th{
			border-width: 1px;
			border-style: solid;
			font-family: tahoma;
			padding: 5px;
		}
	</style>
	<!-- Lo hice en 3 minutos, no rompan los huevos, funciona -->
	<script>
		function calcular() {
			var AverGarray = ["Gaston", "Gabriel", "Gaetan", "Galileo", "Gandalf", "Galvin", "Garfield", "Garrison", "Gaspar"];
			var cantidad = document.getElementById('cantidad').value;
			if (!isNumeric(cantidad)) {
				alert("Valor no valido. Cualquier numero con el decimal marcado con punto o coma.");
				return 0;
			}
			var servdig = cantidad * 0.1909;
			var afip = cantidad * 0.3182;
			var pais = cantidad * 0.0727;
			// No se porque, no entiendo porque, ni me importa saber porque ya que nunca uso Javascript
			// Pero sin el +(cantidad) primero el total termina concatenando todos los numeros como si fuera string
			// Imagino que es por que llega hasta aca en algún tipo medio turbio
			// No se a quien mierda se le ocurrio el concepto de lenguajes no-tipados.
			var total = +(cantidad);
			var total = total + servdig + afip + pais;
			document.getElementById("total").innerHTML = total.toFixed(2);
			document.getElementById("servdig").innerHTML = servdig.toFixed(2);
			document.getElementById("afip").innerHTML = afip.toFixed(2);
			document.getElementById("pais").innerHTML = pais.toFixed(2);
			// A ver...
			document.getElementById("botonAver").setAttribute("value", "A ver " + AverGarray[getRandomInt(AverGarray.length)]);
			return false;
		}
		function isNumeric(n) {
			return !isNaN(parseFloat(n)) && isFinite(n);
		}
		function getRandomInt(max) {
			return Math.floor(Math.random() * Math.floor(max));
		}
		// No me gusta Javascript. No me gusta Javascript. No me gusta Javascript. Es una mierda con definiciones vagas donde hay mucho para adivinar. Es la anti-tesis de la palabra "consiso". Este es el script mas pelotudo del mundo. Hacerlo en C++ me habria llevado 3 minutos, hacerlo en JS me llevo mas de media hora. Preferiria haber escrito esto en Assembly.
</script>
</head>
<body style="font-family: sans-serif;">
	<div class="titulo">
		<?php include('includes/titular.html'); ?>
	</div>
	<div class="pagina">
		<div class="cosas">
			<h2 style="font-family: sans-serif;">Calculadora de pagos a Steam.</h2>
		</div>
		<div style="clear: both;"></div>
		<h3>Impuestos aplicables:</h3>
		<ul>
			<li>IVA Servicios Digitales <b>~19.09%</b></li>
			<li>Percepción impuesto RG AFIP 4815 <b>~31.82%</b></li>
			<li>Ley impuesto PAIS <b>~7.27%</b></li>
		</ul>
		<h3>Exactitud</h3>
		<p>El impuesto cobrado depende de que tarjeta tenes y servicio entre otras cosas. Por ejemplo Brubank cobra entre 10 y 30 pesos mas que Mercadopago en la mayoria de los casos.</p>
		<h3>Lo use para pagar Netflix y me cobraron otra cosa</h3>
		<p>Jodete por pelotudo, ¿que mierda dice el titulo?</p>
		<h3>Calcular</h3>
		<form action="#">
			AR$<input class="entrada-steam" id="cantidad" placeholder="Cantidad en pesos" type="number" pattern="[0-9]+([\.,][0-9]+)?" step="0.01" title="Numero con no mas de 2 decimales.">
			<input type="submit" class="boton" id="botonAver" onclick="return calcular()" value="A ver Gaston">
		</form>
		<p>Vas a pagar:</p>
		<span style="font-size: 2em; color: #009040">AR$<span id="total">0.0</span></span>
		<p>
			IVA Servicios digitales: <span style="color: #009040" >AR$<span id="servdig">0.0</span></span><br />
			Percepción impuesto RG AFIP 4815: <span style="color: #009040" >AR$<span id="afip">0.0</span></span><br />
			Ley impuesto PAIS: <span style="color: #009040" >AR$<span id="pais">0.0</span></span>
		</p>
		<div style="clear: both;"></div>
		<p>&nbsp;</p>
		<p><a id="link" href="index.php">Go back</a></p>

	</div>
</html>
</body>